<!DOCTYPE html>
<html lang="pl">
    <head>
        <title>Larch</title>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial scale=1.0" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
        <link rel="stylesheet" type="text/css" href="static/css/larch.css"/>
        <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
        <script src="static/larch.js" defer></script>
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Spectral:ital,wght@0,700;1,700&display=swap" rel="stylesheet"> 
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Spectral:ital,wght@0,700;1,700&family=Work+Sans&display=swap" rel="stylesheet"> 
    </head>

    <body>
        <nav id="navigation-bar">
            <div class="nav-container">
                <ul>
                    <li style="float:left">
                        <p>
                            Larch | Twój dowód
                        </p>
                    </li>
                    <li>
                        <button id="leave">Wyjdź</button>
                    </li>
                </ul>
            </div>
        </nav>
        <div class="container" id="progressbar">
            <div class="semi-container">
                <div class="progress-container">
                    <div class="progress" id="progress"></div>
                    <div class="circle progress-step-active">
                    </div>
                    <div class="circle">
                    </div>
                    <div class="circle">
                    </div>
                    <div class="circle">
                    </div>
                </div>
            </div>
        </div>
        <div class="larch-container larch-container-active" id="central-container">
            <div>
                <img src="static/szyszka.png" alt="choinka" width="86px" height="86px">
            </div>
            <div>
                <h1>
                    Rozpocznij dowód z Larchem
                </h1>
            </div>
            <div class="button-container">
                <a href="#" class="btn", id='start'>Zaczynamy</a>
            </div>
        </div>
        
        <div class="larch-container">
        <form>
            <div class="main-larch">
                <div class="larch-subcontainer">
                    <h2>
                        Wpisz formułę, którą chcesz zbadać
                    </h2>
                    <p class="formula-container">
                        <input type="text" id="formula" oninput="disableBtn()" placeholder="np. p->p & q" {{ formula | safe }}>
                        <button type="button" class="qm" id="qm">&#10067;</button>
                    </p>
                </div>
                <div class="larch-subcontainer">
                <div class="hints">
                    {{ hint_start | safe }}
                    <a href="/knowledge" target="_blank">Kliknij aby dowiedzieć się więcej</a>
                </div>
                </div>
                <div class="two-btns">
                    <div class="generate">
                        <button type="button" class="btn btn-larch" id="generate">Generuj formułę</button>
                    </div>
                    <div class="button-container btn-main">
                        <button type="button" class="btn btn-larch" id="new_proof" disabled>Dalej: Rozłóż formuły</button>
                    </div>
                </div>
            </div>
        </form>
        </div>

        <div class="larch-container">
            <form>
                <div class="main-larch-rules">
                    <div class="larch-subcontainer">
                        <div class="for-qm">
                            <h2>
                                Rozłóż formuły
                            </h2>
                            <div class="current-branch-container">
                                <p>Rozkładana gałąź: </p>
                                <p id="current-branch"></p>
                            </div>
                        </div>
                        <p id="clickable-container">
                            
                        </p>
                        <div class="switch-btn">
                            <div class="switch-container">
                                <p>Podświetlenie gałęzi:</p>
                                <label class="switch" id="switch">
                                    <input type="checkbox" id="switch-check">
                                    <span class="slider"></span>
                                </label>
                            </div>
                        </div>
                    </div>
                    <div class="larch-subcontainer">
                        <div class="rules-main">
                            <h3 id="rules-title">
                                Której reguły chcesz użyć?
                            </h3>
                            <div id="rules-container">
    
                            </div>
                        </div>
                        <div class="btn-container">
                            <button type="button" class="rules-btn" id="rules-hint">
                               <i class="material-icons">lightbulb_outline</i> Podpowiedź
                            </button>
                            <button type="button" class="rules-btn" id="rules-report">
                                <i class="material-icons">bug_report</i>Zgłoś błąd
                            </button>
                            <button type="button" class="rules-btn" id="rules-undo">
                                <i class="material-icons">undo</i>Cofnij
                            </button>
                        </div>
                    </div>
                    <div class="two-btns">
                        <div class="back">
                            <button type="button" class="btn btn-back" id="back-to-1">Wstecz</button>
                        </div>
                        <div class="button-container btn-main" id="check-div">
                            <button type="button" class="btn btn-larch" id="check">Dalej: Sprawdź gałęzie</button>
                        </div>
                    </div>
            </div>
        </form>
        </div>

        <div class="larch-container">
        <form>
            <div class="main-larch">
                <div class="larch-subcontainer checking-sub">
                    <h2>
                        Sprawdź gałęzie
                    </h2>
                    <p>
                        Kliknij na ostatni wyraz w dowolnej gałęzi, aby poszukać sprzeczności.
                    </p>
                    <div id="checking-container">
                            
                    </div>
                </div>
                <div class="larch-subcontainer">
                <div class="hints">
                    <p>
                        Dowodzisz nie wprost, więc poszukaj sprzeczności w gałęziach, aby udowodnić, że formuła jest tautologią.
                    </p>
                    <p>
                        Potrzebujesz wskazówki?
                    </p>
                    <a href="/knowledge" target="_blank">
                        Kliknij, aby dowiedzieć się więcej
                        </a>
                </div>
            </div>
            <div class="two-btns">
                <div class="back switch-btn">
                    <button type="button" class="btn btn-back" id="back-to-2">Wstecz</button>
                </div>
                <div class="button-container btn-main">
                    <button type="button" class="btn btn-larch" id="finish-proof">Dalej: Rozstrzygnij dowód</button>
                </div>
            </div>
            </div> 
        </form>
        </div>

        <div class="larch-container">
        <form>
            <div class="main-larch2">
                <div class="larch-subcontainer" id="finish">
                    <h2>
                        Rozstrzygnij dowód
                    </h2>
                    <p>
                        Na podstawie podsumowania możesz stwierdzić, czy Twoja formuła jest tautologią czy nie.
                    </p>
                </div>
                <div class="end-hints">
                    <h3>
                        Drzewo dowodu
                    </h3>
                    <div id="final-tree">
                        
                    </div>
                </div>
                <div class="end-hints">
                    <h3>
                        Rozstrzygnięcie
                    </h3>
                    <div>
                        <p id="formula-end">

                        </p>
                        <form id="tautology-form">
                            <input type="radio" id="is-tautology" name="tautology" value="True">
                            <label for="is-tautology">jest tautologią</label><br>
                            <input type="radio" id="is-not-tautology" name="tautology" value="False">
                            <label for="is-not-tautology">nie jest tautologią</label>
                        </form>
                    </div>
    
                    <div class="button-container btn-check">
                        <button type="button" class="btn" id="btn-check">Sprawdź</button>
                </div>
                </div>
            </div>
        </form>
        </div>
        <div class="larch-container" id="decision">
            <form>

            </form>
        </div>
        <div class="larch-container">
        <form>
            <div class="main-larch3" id="right">
                <div class="end-title">
                    <h1>Podsumowanie dowodu</h1>
                </div>
                <div class="sub-container-end">
                    <h2>
                        To dobra odpowiedź!
                    </h2>
                    <p>
                        Twój dowód jest wykonany poprawnie, wszystko poszło zgodnie z planem. Możesz zapisać dowód do PDFa lub TeXu.
                    </p>
                </div>
                <div class="sub-container-end">
                    <h2>Drzewo dowodu</h2>
                    <div id="tree-end1">

                    </div>
                </div>
                <div class="sub-container-end">
                    <h2>Rozstrzygnięcie</h2>
                    <p id="tautology-end1">Twoje rozstrzygnięcie:</p>
                </div>
                <div class="button-container btn-container-end">
                    <!-- <button type="button" class="btn" id="save_end">Zapisz dowód</button> -->
                    <button type="button" class="btn" id="tex1">Wyeksportuj do TeX</button>
                    <button type="button" class="btn" id="new_end1">Nowy dowód</button>
                </div>
            </div>
            </div>
        </form>
        </div>
        <div class="larch-container">
        <form>
            <div class="main-larch3" id="wrong">
                <div class="end-title">
                    <h1>Podsumowanie Twojego dowodu</h1>
                </div>
                <div class="sub-container-end">
                    <h2>
                        Niestety to błędna odpowiedź
                    </h2>
                    <p>
                        Poniżej znajdziesz drzewo, podsumowanie dowodu i informację o błędach w dowodzie. Możesz zapisać dowód do PDFa lub TeXu.
                    </p>
                </div>
                    <div class="sub-container-end">
                        <h2>Drzewo dowodu</h2>
                        <div id="tree-end2">
    
                        </div>
                    </div>
                    <div class="sub-container-end">
                        <h2>Rozstrzygnięcie</h2>
                        <p id="tautology-end2">Twoje rozstrzygnięcie:</p>
                    </div>
                    <div class="sub-container-end">
                        <h2>Informacje o błędach w dowodzie</h2>
                        <div id="feedback-wrong">

                        </div>
                    </div>
                    <div class="button-container btn-container-end">
                        <!-- <button type="button" class="btn" id="save_end">Zapisz dowód</button> -->
                        <button type="button" class="btn" id="tex2">Wyeksportuj do TeX</button>
                        <button type="button" class="btn" id="new_end2">Nowy dowód</button>
                        <button type="button" class="btn", id="repeat">Powtórz dowód</button>
                    </div>
                </div>
            </div>    
        </form>
        </div>
        <div class="new-window" id="checking-window">
            <div class="btn-div">
                <button type="button" class="hint-x" id="hint-x3">&#10005;</button>
            </div>
            <h2 id="check-branch-name">
                Gałąź
            </h2>
            <p>
                Kliknij dwa sprzeczne wyrażenia.
            </p>
            <div id="branch-container">

            </div>
            <div class="button-container2">
                <button type="button" class="btn" id="check-branch-btn">
                    Sprawdź
                </button>
                <button type="button" class="btn" id="close-window-btn">
                    Brak sprzeczności
                </button>
            </div>
        </div>
        <div class="new-window" id="hint-window">
            <div class="btn-div">
                <button type="button" class="hint-x" id="hint-x">&#10005;</button>
            </div>
            <h3>
                Nie masz pewności, jak zapisać formułę?
            </h3>
            <p>
                Nie musisz kopiować symboli logicznych. Larch interpretuje:<br>
                · <mark>-></mark> jako implikację<br>
                · <mark>and</mark> jako koniunkcję<br>
                · <mark>or</mark> jako alternatywę<br>
                · <mark>not</mark> i <mark>~</mark> jako negację.
            </p>
        </div>
        <div class="hints new-window" id="hint-window2">
            <div class="btn-div">
                <button type="button" class="hint-x" id="hint-x2">
                    &#10005;
                </button>
            </div>
            <h2>Podpowiedź</h2>
            <div id="hint-textbox"></div>
            <p>
                Nie pamiętasz reguł?
            </p>
            <a href="/knowledge" target="_blank">
                Kliknij, aby dowiedzieć się więcej
                </a>
        </div>
        <div class="new-window" id="hint-window3">
            <p>
                Masz pierwsze rozgałęzienie. Jeśli chcesz się przełączyć między gałęziami, kliknij na pierwszy wyraz po rozgałęzieniu.
            </p>
            <button type="button" class="btn" id="ok">OK</button>
        </div>
        <div class="new-window" id="leave-window">
            <p>
                Czy na pewno chcesz opuścić tę stronę?
            </p>
            <div class="btn-leave-container">
                <button type="button" class="btn" id="stay">Zostań</button>
                <a href="/" class="btn" id="confirmation">Wyjdź</a>
            </div>     
        </div>
        <div class="new-window" id="general-modal">
            <p id="hints-p">
                
            </p>
            <button type="button" class="btn" id="ok2">OK</button>
        </div>
        <div class="new-window" id="branch-modal">
            <p id="hint-branch-p">
                
            </p>
            <button type="button" class="btn" id="ok3">OK</button>
        </div>
        <div id="overlay"></div>
    </body>